(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{28:function(e,t,n){e.exports=n(43)},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),s=n.n(c),o=n(5),u=n(27),l=n(15),i=(n(37),n(24)),m=n.n(i),p=(n(38),function(e){var t=e.user;return r.a.createElement("section",{className:"user "},r.a.createElement("p",{className:"user__name"},t.name),r.a.createElement("div",{className:"user__address"},r.a.createElement("p",{className:"user__city"},t.address.city,","),r.a.createElement("p",{className:"user__street"},t.address.street,","),r.a.createElement("p",{className:"user__suite"},t.address.suite,","),r.a.createElement("a",{href:"mailto:".concat(t.email),className:"comment__email"},t.email)))}),E=(n(39),n(8)),d=n.n(E),b=n(14),f=n(16),O=n(2),j=n(7),_=n(25),y=n(26),h=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n,a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([fetch("https://jsonplaceholder.typicode.com/posts").then((function(e){return e.json()})),fetch("https://jsonplaceholder.typicode.com/users").then((function(e){return e.json()})),fetch("https://jsonplaceholder.typicode.com/comments").then((function(e){return e.json()}))]);case 2:return t=e.sent,n=Object(l.a)(t,3),a=n[0],r=n[1],c=n[2],e.abrupt("return",a.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{user:r.find((function(t){return t.id===e.userId})),comments:c.filter((function(t){return t.postId===e.id}))})})));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){return e.isLoading},v=function(e){return e.query},g=function(e){return e.errorMessage},L=function(e){return e.posts.filter((function(t){return(t.title+t.body).toLowerCase().includes(e.query.trim().toLowerCase())}))},T={posts:[],query:"",isLoading:!1,errorMessage:""},S=Object(j.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return Object(O.a)(Object(O.a)({},e),{},{isLoading:!0,errorMessage:""});case"SET_POSTS":return Object(O.a)(Object(O.a)({},e),{},{posts:Object(f.a)(t.posts)});case"HANDLE_ERROR":return Object(O.a)(Object(O.a)({},e),{},{errorMessage:t.errorMessage,isLoading:!1});case"FINISH_LOADING":return Object(O.a)(Object(O.a)({},e),{},{isLoading:!1});case"DELETE_POST":return Object(O.a)(Object(O.a)({},e),{},{posts:Object(f.a)(e.posts).filter((function(e){return e.id!==t.postId}))});case"DELETE_COMMENT":return Object(O.a)(Object(O.a)({},e),{},{posts:Object(f.a)(e.posts).map((function(e){return Object(O.a)(Object(O.a)({},e),{},{comments:e.comments.filter((function(e){return e.id!==t.commentId}))})}))});case"SET_QUERY":return Object(O.a)(Object(O.a)({},e),{},{query:t.query});default:return e}}),Object(_.composeWithDevTools)(Object(j.applyMiddleware)(y.a))),I=function(e){var t=e.name,n=e.body,a=e.id,c=e.email,s=Object(o.b)();return r.a.createElement("div",{className:"comment"},r.a.createElement("button",{type:"button",className:"button__delete",onClick:function(){return s({type:"DELETE_COMMENT",commentId:a})}},"Delete"),r.a.createElement("p",{className:"comment__name"},t),r.a.createElement("p",{className:"comment__text"},n),r.a.createElement("p",{className:"comment__email"},r.a.createElement("a",{href:"mailto:".concat(c)},c)))},D=function(e){var t=e.comments;return r.a.createElement("div",{className:"comments"},r.a.createElement("h3",null,"Comments"),t.map((function(e){return r.a.createElement(I,Object.assign({},e,{key:e.id}))})))},k=(n(41),function(e){var t=e.title,n=e.body,a=e.id,c=e.user,s=e.comments,u=Object(o.b)();return r.a.createElement("div",{className:"post"},r.a.createElement("button",{type:"button",className:"button__delete",onClick:function(){return u({type:"DELETE_POST",postId:a})}},"Delete Post"),r.a.createElement("h2",{className:"post__title"},t),r.a.createElement(p,{user:c}),r.a.createElement("p",{className:"post__body"},n),r.a.createElement(D,{comments:s}))}),w=function(e){var t=e.posts;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"post__list"},t.map((function(e){return r.a.createElement(k,Object.assign({},e,{key:e.id}))}))))},C=function(){var e=Object(o.b)(),t=Object(o.c)(L),n=Object(o.c)(N),c=Object(o.c)(g),s=Object(o.c)(v),u=Object(a.useState)(s),i=Object(l.a)(u,2),p=i[0],E=i[1],f=Object(a.useCallback)(m()((function(t){return e(function(e){return{type:"SET_QUERY",query:e}}(t))}),500),[]);return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Dynamic list of posts"),t.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",className:"input",placeholder:"what you search",value:p,onChange:function(e){var t=e.target.value;E(t),f(t)}}),r.a.createElement(w,{posts:t})):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",className:"button",onClick:function(){return e(function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"START_LOADING"}),e.prev=1,e.next=4,h();case 4:n=e.sent,t({type:"SET_POSTS",posts:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"HANDLE_ERROR",errorMessage:"Error "});case 11:t({type:"FINISH_LOADING"});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}},n?"Loading...":"Click to Load"),c&&r.a.createElement("p",{className:"error"},c)))},M=function(){return r.a.createElement(o.a,{store:S},r.a.createElement(u.a,null,r.a.createElement(C,null)))};s.a.render(r.a.createElement(M,null),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.1f96eb30.chunk.js.map